<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>КиноX - Выбор места</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/components/seat-selection.css">
</head>
<body>
    <header class="site-header">
        <div class="logo">
            <h1>Кино<span class="accent">X</span></h1>
        </div>
        <button class="burger-menu-btn" aria-label="Открыть меню" aria-expanded="false">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
            </svg>
        </button>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Афиша</a></li>
                <li><a href="schedule.html">Расписание</a></li>
                <li><a href="coming-soon.html">Скоро</a></li>
                <li><a href="about.html">О кинотеатре</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <button class="search-btn" aria-label="Поиск"></button>
            <div class="user-menu-container">
                <button class="user-menu-btn" aria-label="Меню пользователя" id="profileButton">
                    <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
                    </svg>
                </button>
                <div class="dropdown" id="userDropdownContainer">
                    <div class="dropdown-content" id="userDropdownMenu">
                        <a href="profile.html">Профиль</a>
                        <a href="#">История покупок</a>
                        <button id="logoutButton">Выйти</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content seat-selection-page">
        <div class="container">
            <!-- Информация о фильме и сеансе -->
            <section class="movie-info glassmorphic-panel">
                <div class="movie-details">
                    <div class="movie-poster">
                        <img src="" alt="Постер фильма" id="moviePoster">
                    </div>
                    <div class="movie-text">
                        <h1 id="movieTitle" class="movie-title">Загрузка...</h1>
                        <div class="screening-details">
                            <p><strong>Дата:</strong> <span id="screeningDate">Загрузка...</span></p>
                            <p><strong>Время:</strong> <span id="screeningTime">Загрузка...</span></p>
                            <p><strong>Зал:</strong> <span id="hallName">Загрузка...</span></p>
                            <p><strong>Формат:</strong> <span id="screeningFormat">Загрузка...</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Схема зала -->
            <section class="hall-schema glassmorphic-panel">
                <h2>Выберите места</h2>
                
                <div class="screen-container">
                    <div class="screen">ЭКРАН</div>
                </div>
                
                <div class="seats-legend">
                    <div class="legend-item">
                        <div class="seat-sample available"></div>
                        <span>Доступно</span>
                    </div>
                    <div class="legend-item">
                        <div class="seat-sample selected"></div>
                        <span>Выбрано</span>
                    </div>
                    <div class="legend-item">
                        <div class="seat-sample occupied"></div>
                        <span>Занято</span>
                    </div>
                    <div class="legend-item">
                        <div class="seat-sample vip"></div>
                        <span>VIP</span>
                    </div>
                </div>
                
                <div id="seatsContainer" class="seats-container">
                    <!-- Сюда будут добавлены ряды и места из JS -->
                    <div class="loading-indicator">Загрузка схемы зала...</div>
                </div>
            </section>

            <!-- Выбранные места и кнопка продолжить -->
            <section class="selected-seats glassmorphic-panel">
                <h2>Выбранные места</h2>
                
                <div id="selectedSeatsList" class="selected-seats-list">
                    <p class="empty-selection-message">Вы пока не выбрали ни одного места</p>
                </div>
                
                <div class="booking-summary">
                    <div class="summary-row">
                        <span>Количество мест:</span>
                        <span id="seatsCount">0</span>
                    </div>
                    <div class="summary-row total">
                        <span>Итого к оплате:</span>
                        <span id="totalPrice">0 ₽</span>
                    </div>
                </div>
                
                <button id="continueButton" class="primary-button" disabled>Продолжить</button>
            </section>
        </div>
    </main>

    <footer class="site-footer-bottom">
        <p>&copy; 2024 КиноX. Все права защищены.</p>
    </footer>

    <script src="assets/js/auth-check.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/seat-selection.js"></script>
</body>
</html> 